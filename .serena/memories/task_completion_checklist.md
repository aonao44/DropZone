# DropZone - タスク完了時のチェックリスト

## 実装前の確認事項

1. **既存機能の確認**
   - 既存の類似機能の有無を確認
   - 同名または類似名の関数やコンポーネントがないかチェック
   - 重複するAPIエンドポイントがないか確認
   - 共通化可能な処理の特定

2. **ドキュメント確認**
   - `.claude/requirements.md` - 要件定義
   - `.claude/development_roadmap.md` - 開発ロードマップ
   - `CLAUDE.md` - プロジェクト固有のガイドライン
   - 該当する`.cursor/rules/`のルール

## 実装中のチェック

1. **コード品質**
   - TypeScriptの型安全性を確保
   - Server Componentsを優先的に使用
   - `'use client'`は必要最小限に
   - 適切なエラーハンドリング

2. **セキュリティ**
   - 環境変数の適切な使用
   - 外部入力のバリデーション
   - サーバーサイドでの検証

3. **パフォーマンス**
   - 不要な再レンダリングの回避
   - 画像の最適化（next/image使用）
   - 動的インポートの活用

## 実装後のチェック

### 1. コード品質チェック
```bash
npm run lint
```
エラーがあれば修正する

### 2. ビルドテスト
```bash
npm run build
```
ビルドエラーがないことを確認

### 3. 開発サーバーでの動作確認
```bash
npm run dev
```
実装した機能が正常に動作することを確認

### 4. 進捗記録の更新
`.claude/development_roadmap.md`の該当タスクを更新:
- チェックボックスを `[ ]` から `[x]` に変更
- 実装上の注意点や課題があればメモを追記

### 5. Gitコミット
```bash
# 変更をステージング
git add .

# コンベンショナルコミット形式でコミット
git commit -m "feat: 機能の説明"
# または
git commit -m "fix: 修正内容の説明"
```

## コミットメッセージのプレフィックス

- `feat:` - 新機能追加
- `fix:` - バグ修正
- `docs:` - ドキュメント更新
- `style:` - コードスタイルの変更（機能変更なし）
- `refactor:` - リファクタリング
- `test:` - テスト追加・修正
- `chore:` - ビルドプロセスやツールの変更

## エラー発生時の対応

1. **エラー内容の確認**
   - エラーメッセージの詳細を確認
   - スタックトレースから原因を特定

2. **原因の調査**
   - 関連するコードを確認
   - 型定義の確認
   - 環境変数の設定確認

3. **修正と検証**
   - 根本原因を修正（エラーの抑制ではなく）
   - 再度ビルド・動作確認
   - 同様のエラーが他にないか確認

## 品質基準

- TypeScriptの型エラーがないこと
- Lintエラーがないこと
- ビルドが成功すること
- 実装した機能が要件を満たしていること
- セキュリティリスクがないこと
- パフォーマンスに悪影響がないこと

## 最終確認

- [ ] 当初の指示内容との整合性確認
- [ ] コード品質基準を満たしている
- [ ] ドキュメントが更新されている（必要な場合）
- [ ] 進捗記録が更新されている
- [ ] Gitコミットが適切に行われている
